{% extends 'tom_common/base.html' %}
{% block content %}
<!-- --------------------------- -->

<head>
<meta charset="utf-8" />   <!--It is necessary to use the UTF-8 encoding with plotly graphics to get e.g. negative signs to render correctly -->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/@ag-grid-community/styles/ag-grid.css">
<link rel="stylesheet" href="https://unpkg.com/@ag-grid-community/styles/ag-theme-balham.css">
</head>


<p>
On this page, you can find the data for a specific BlackGEM transient.
</p>
<hr>

<div align="center">

<h4>BlackGEM ID {{ bgem_id }}<br></h4>
<h6>{{ iau_name }}<br></h6>
<h6>RA: {{ ra }}, Dec: {{ dec }}<br></h6>

<!-- {{ dataframe }} -->

<!-- <h5>Lightcurves</h5> -->
{{ lightcurve|safe }}

<form method="post" action="{% url 'status_to_GEMTOM' %}" class="image-form">
    {% csrf_token %}
    <input type="hidden" name="id" value="{{ bgem_id }}">
    <input type="hidden" name="name" value="{{ iau_name }}">
    <input type="hidden" name="ra" value="{{ ra }}">
    <input type="hidden" name="dec" value="{{ dec }}">
    <button type="submit" class="btn btn-primary">Add to GEMTOM</button>
</form>

<!-- Possible Columns:
<br>
|
{% for column in columns %}
    {{ column }} |
{% endfor %} -->

<hr>

<h5>Location on Sky</h5>
<!-- Render the Plotly graph -->
{{ location_on_sky|safe }}

<hr>

<h5>Full Observation Data</h5>

<style>
    .dash-container {
        width: 100%;
        height: 400px;
        justify-content: center;
        align-items: center;
    }
</style>

{% load plotly_dash %}
<div class="dash-container">
    {% plotly_app name="EachObservation" ratio=1 %}
</div>

<hr>


<!-- --------------------------- -->
{% endblock %}
